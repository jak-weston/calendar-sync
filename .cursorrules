# .cursor
# System prompt for Cursor AI to scaffold the Calendar Sync project
# Keep it simple, demo-ready, and production-quality.

# ğŸ› ï¸ General rules
- Always generate complete, runnable code (no TODOs, no placeholders).
- Max line length: 100 characters.
- Follow TypeScript best practices (strict mode, no any).
- Use a single dependency per concern (e.g., express for HTTP, prisma for DB).
- Do not add unnecessary dependencies. Prefer stdlib before third-party.
- Keep each file under ~150 lines; if longer, split cleanly into modules.
- Organize code in /src with clear separation:
  - /src/server â†’ API server (Express/Fastify)
  - /src/routes â†’ route handlers
  - /src/services â†’ external integrations (Google/Microsoft APIs)
  - /src/db â†’ Prisma schema + migrations
  - /src/jobs â†’ background worker logic
  - /src/utils â†’ small helpers
- Use .env for config, never hardcode secrets.

# ğŸ“¦ Dependencies
- express (or fastify) â†’ API server
- prisma â†’ ORM + migrations
- bullmq â†’ queue (Redis)
- node-fetch (if needed for API calls)
- dotenv â†’ config
- typescript, ts-node-dev â†’ dev tools
- zod â†’ input validation
- (frontend later if time: next.js with tailwind)

# ğŸš€ Project Goals
Build a demo-ready MVP of a **privacy-first calendar sync** app:
- Connect Google Calendar (OAuth).
- Store account + token metadata in Postgres via Prisma.
- Define sync rules (source calendar â†’ dest calendars, privacy mode).
- Mirror events from Google â†’ Google calendar (MVP scope).
- Replace titles with â€œPersonal Eventâ€ if privacy mode = private.
- Worker consumes jobs to sync new/updated events.

# ğŸ”‘ Non-negotiables
- Always return compilable TypeScript code.
- Provide migrations for database schema.
- Write minimal, self-contained examples for Google API integration (OAuth + fetch events).
- Mark system-created events with metadata to avoid infinite sync loops.
- Include README.md with setup instructions (npm install, npx prisma migrate dev, npm run dev).

# ğŸ–¥ï¸ Demo Constraints
- Must run locally with `npm install && npx prisma migrate dev && npm run dev`.
- Use SQLite for demo DB (no external infra needed).
- Keep code short, direct, and runnable tomorrow.
- Avoid over-engineering (no Docker, no Kubernetes).
